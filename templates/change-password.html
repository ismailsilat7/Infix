{% extends 'base.html' %}
{% block title %}Change Password - Infix{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
{% endblock %}

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

{% block HomeActive %}inactive{% endblock %}

{% block content %}
<div id="signup-page">
    </div>
    <div class="change-form">
      <h2>Authentication</span></h2>
      <form action="/changepassword" method="post">
        <div class="change-inputs">
          <div class="input-container">
            <i class="ri-mail-fill"></i>
            <input type="text" name="name" placeholder="Email" required autofocus>
          </div>
          <div class="input-container">
            <i class="ri-emotion-happy-line"></i>
            <input type="text" name="nickname" placeholder="Nickname" required>
          </div>
          <div class="input-container">
            <i class="ri-lock-2-line"></i>
            <input type="password" name="new-pwd" placeholder="New Password" id="pwd" required>
            <i class="ri-eye-close-line" style="font-size: 26px;cursor: pointer;" id="toggle-one"></i>
          </div>
          <div class="input-container">
            <i class="ri-lock-2-fill"></i>
            <input type="password" name="confirm-new-pwd" placeholder="Confirm New Password" id="confirm-pwd" required disabled>
            <i class="ri-eye-close-line" style="font-size: 26px; cursor: pointer;" id="toggle-two"></i>
          </div>
        </div>
        <div class="change-submit">
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>











  </div>
  <script>
    // eye icon toggle 
    const pwdInput = document.getElementById('pwd')
    const confirmpwdInput = document.getElementById('confirm-pwd')
    const toggleBtnOne = document.getElementById('toggle-one')
    const toggleBtnTwo = document.getElementById('toggle-two')
    toggleBtnOne.addEventListener('click', ()=> {
      if (pwdInput.type === 'password') {
        pwdInput.type = 'text'
        toggleBtnOne.className = 'ri-eye-line'
      } else {
        pwdInput.type = 'password'
        toggleBtnOne.className = 'ri-eye-close-line'
      }
    })
    toggleBtnTwo.addEventListener('click', () => {
      if (confirmpwdInput.type === 'password') {
        confirmpwdInput.type = 'text'
        toggleBtnTwo.className = 'ri-eye-line'
      } else {
        confirmpwdInput.type = 'password'
        toggleBtnTwo.className = 'ri-eye-close-line'
      }
    })
    // handling disabled pwd 
    pwdInput.addEventListener('input', () => {
      if (pwdInput.value.length > 0) {
        confirmpwdInput.disabled = false
  
      } else {
        confirmpwdInput.disabled = true
        confirmpwdInput.value = ""
      }
    })
  </script>
{% endblock %}
